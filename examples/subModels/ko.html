<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Title of the document</title>
<script src="../../build/duet.js"></script>
<script src="ticket.js"></script>
<script type="text/javascript">

	var model = {
	    tickets:[
	      new Ticket('LowCost', 69.95),
	      new Ticket('Economy', 199.95),
	      new Ticket('Business', 449.22),
	      new Ticket('First Class', 1199.98)
	    ],
	    chosenTicket: null,
	    resetTicket: (function(){
	      this.chosenTicket = null;
	    }),
	    selectTicket: (function(){      
	    	if(this.$chosenTicket != null)
	      		return this.$chosenTicket.price;
	    }),
	  };

	duet.bind(model);
	duet.init();	
	
</script>
</head>

<body>
	<form>
	  <select dt-children="tickets" dt-value="chosenTicket">
	    <option dt-text="#this.printme()" dt-value="name" />    
	  </select>
	  <button dt-disabled="#this.chosenTicket === null" dt-onclick="@this.resetTicket()">Clear</button>
	  <p dt-style.display="#this.chosenTicket === null? 'none':''">
	    You have chosen <b dt-innerHTML="chosenTicket"></b>
	    ($<span dt-innerHTML="#this.selectTicket()"></span>)
	  </p>
	</form>
</body>

</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Title of the document</title>
<script src="../build/duet.js"></script>
<script type="text/javascript">

	function onDocLoad() {
				
		var model = {
		    tickets:[
		      {name: 'Economy', price: 199.95},
		      {name: 'Business', price: 449.22},
		      {name: 'First Class', price: 1199.98}
		    ],
		    chosenTicket: null,
		    resetTicket: (function(){
		      this.chosenTicket = null;
		    }),
		    selectTicket: (function(){      
		    	if(this.chosenTicket != null){
		    		var prices = '';

		    		for(var i = 0; i < this.$chosenTicket.length; i++)
		    			prices += '$' + this.$chosenTicket[i].price + ', ';

		    		prices = prices.slice(0, prices.length - 2);

		      		return prices;
		    	}
		    }),
		  };

		ko = duet.bind(model);
	}
	
</script>
</head>

<body onload="onDocLoad();">
	<div>
	  <select multiple dt-children="tickets" dt-value="chosenTicket">
	    <option  dt-text="name" dt-value="name" />    
	  </select>
	  <button dt-disabled="#this.chosenTicket === null" dt-onclick="@this.resetTicket()">Clear</button>
	  <p dt-style.display="#this.chosenTicket === null? 'none':''">
	    You have chosen <b dt-innerHTML="chosenTicket"></b>
	    (<span dt-innerHTML="#this.selectTicket()"></span>)
	  </p>
	</div>
</body>

</html>
